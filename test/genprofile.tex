\documentclass[
	twocolumn
]{article}

\usepackage{genealogy-profiles}
\usepackage[asterism]{sectionbreak}
\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\tcbset{breakable}
\usepackage{lipsum}

\usepackage{imakeidx}
\makeindex[name=gpr-id, title=ID-register, options=-s genprofile]
\makeindex[name=gpr-fullname, title={Register på fuldt navn}, options=-s genprofile]
\makeindex[name=gpr-patronymic, title={Patronymregister}, options=-s genprofile]
\makeindex[name=gpr-surname, title={Efternavneregister}, options=-s genprofile]
\makeindex[name=gpr-byname, title={Tilnavneregister}, options=-s genprofile]

\gprKeys{
%	auto id prefix = {L/},
	name type = nordic historical,
	patronymic style = {\itshape},
	byname style = {\scshape},
	id style = {\slshape},
	layout preset = tcolorbox,
	id index = gpr-id,
	fullname index = gpr-fullname,
	patronymic index = gpr-patronymic,
	surname index = gpr-surname,
	byname index = gpr-byname,
	nest index entries,
	main index entry style = textbf,
	page number style = {s.~#1},
%	reference style = {\textsuperscript{#1}\footnote{#2}},
%	reference style = {\footnote{#1, #2}},
	id in index entries,
	use styles in index,
}

\begin{document}

Reference outside profile: \gprRef{Jens Hansen Smed}

Test ref with unknown id: \gprRef[FOO]{Svend Poulsen}

\gprBynameStyle{Byname Style}

\begin{gprProfile}{Jens Hansen}[
	birth = {1790}{Denmark}
]
	Styled patronymic: \gprPatronymic{}\\
	Unstyled patronymic: \gprPatronymic*{}

	Børn:
	\begin{enumerate}
	\item \gprRef{Hans Jensen} (født \gprYear{1820})
	\item \gprRef[ABC]{Jens} (født \gprYear{1822})
	\item \gprRef{Karl} (født \gprYear{1825})
	\end{enumerate}

	\gprName{Karl Petersen} skal i index, men det skal \gprName*{Peter Karlsen} ikke!
\end{gprProfile}

\begin{gprProfile}{Hans Jensen}[
	birth = {1820}{Denmark},
	death = {1850}{Denmark}
]
	Far:
	\gprRef{Jens Hansen}

	\gprSpouse{Kirstine _ Smed}[1° \gprYear{1840}]

	\gprSpouse*[ZZZ]{Ane_Marie Andersdatter}[2° \gprYear{1850}]
\end{gprProfile}

\begin{gprProfile}{Henrik Jensen}
	\gprSpouse{Kirstine Larsdatter}
	
	\lipsum[1-5]

\end{gprProfile}

\begin{gprProfile}[id=ABC]{Jens Jensen}
	Far:
	\gprRef[JH-1]{Jens Hansen}

\end{gprProfile}

\begin{gprProfile}{Jens Hansen Smed}
	Urelateret person.
	
	Venner med \gprRef[HJ-1]{Hans Jensen}, de mødtes første gang i \gprYear{1830}.

\end{gprProfile}

\begin{gprProfile*}{given name=Jens, patronymic=Hansen, byname=Bødker}[birth={1805}{Sverige}]
	Urelateret person.

\end{gprProfile*}

\begin{gprProfile}{Povel _ Skovrider}
	Urelateret person.
	
	\gprStyledName{}
	
	{\gprGivenName{} {\scshape \gprByname{}}}
	
	{Povel {\scshape Skovrider}}

\end{gprProfile}

\begin{gprProfile}{Anne_Kirstine Jensdatter}
	\gprGivenName{}

\end{gprProfile}

\begin{gprProfile}{Jens Hansen}
	En anden Jens Hansen, som ikke er identisk med JH-1!
\end{gprProfile}

\begin{gprProfile}[no index]{Peter Larsen}
	Peter skal ikke med i index
\end{gprProfile}


\gprKeys{
	auto id prefix = {A/},
	begin profile = {},
	end header = {\vspace*{5pt}\hrule\vspace*{5pt}},
	end life events = {\vspace*{5pt}\hrule\vspace*{5pt}},
	end profile = {\sectionbreak},
	auto header,
}

\begin{gprProfile}{Ole Jensen}[
	birth = {1810}{Denmark}
]
	Far:
	\gprRef[JH-1]{Jens Hansen}
\end{gprProfile}

\printindex[gpr-id]
\printindex[gpr-fullname]
\printindex[gpr-patronymic]
\printindex[gpr-surname]
\printindex[gpr-byname]

\end{document}